<style>
  /* Focus styling improvements */
  select.form-select-sm:focus {
    outline: none;
    box-shadow: none;
    border-color: inherit;
  }

  input.form-control:focus {
    outline: none; /* Remove the outline */
    box-shadow: 0 0 5px rgba(0, 123, 255, 0.5); /* Subtle focus indicator */
    border-color: #80bdff; /* Add a border color change to improve focus visibility */
  }
</style>
<nav class="navbar navbar-expand-lg bg-body-tertiary" style="min-height: 80px">
  <div class="container-fluid" style="width: 80%">
    <!-- Home button always visible -->
    <a class="navbar-brand" href="/api/home">
      <i class="bi bi-house-door-fill"></i> Home
    </a>

    <!-- Search form always visible on the left side -->
    <form
      action="/api/home/search"
      method="post"
      role="search"
      class="d-flex border-1 border border-dark rounded-5 mx-auto order-0 order-lg-1"
      style="flex-grow: 1; max-width: 400px"
      id="search-form"
    >
      <select
        name="searchParam"
        id="search-param"
        class="form-select-sm border-0 rounded-5 bg-light"
      >
        <option value="email" class="dropdown-item">E-mail</option>
        <option value="note" class="dropdown-item">Note</option>
        <option value="topic" class="dropdown-item">Topic</option>
      </select>
      <input
        class="form-control border-0 w-100"
        type="search"
        placeholder="Search"
        aria-label="Search"
        name="searchValue"
      />
      <button class="btn border-0 rounded-5" type="submit">
        <i class="bi bi-search"></i>
      </button>
    </form>

    <!-- Toggler button for small screens -->
    <button
      class="navbar-toggler"
      type="button"
      data-bs-toggle="collapse"
      data-bs-target="#navbarSupportedContent"
      aria-controls="navbarSupportedContent"
      aria-expanded="false"
      aria-label="Toggle navigation"
    >
      <span class="navbar-toggler-icon"></span>
    </button>

    <!-- Collapsible part of the navbar -->
    <div class="collapse navbar-collapse order-3" id="navbarSupportedContent">
      <ul class="navbar-nav mb-2 mb-lg-0 ms-auto">
        <li class="nav-item">
          <a href="/api/notes/new-note" class="nav-link active"
            ><i class="bi bi-file-earmark-plus-fill"></i> Take note</a
          >
        </li>
        <li class="nav-item">
          <a class="nav-link active" href="/api/user/">Profile</a>
        </li>
        <li class="nav-item">
          <a class="nav-link active" href="/api/user/log-out">Log out</a>
        </li>
      </ul>
    </div>
  </div>
</nav>
<script
  src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
  integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
  crossorigin="anonymous"
></script>
<script>
  // const formEl = document.querySelector("#search-form");
  // formEl.addEventListener("submit", async (e) => {
  //   e.preventDefault();
  //   const formData = new FormData(formEl);
  //   const data = Object.fromEntries(formData);
  //   const response = await fetch("/api/home/search", {
  //     method: "POST",
  //     headers: {
  //       "Content-Type": "application/json",
  //     },
  //     body: JSON.stringify(data),
  //   });
  //   const data1 = await response.json();
  //   console.log(data1);
  // });
</script>
